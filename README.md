# 中文编程语言
## 概述
本项目包含了一个中文编程语言的实现，包括：编译器、解析器、字节码虚拟机
其中字节码虚拟机 支持 Windows Linux 操作系统及 arm、arm32 、x86、x64 CPU

本项目原本为公司内部分享课程《计算机语言编译理》配套源码。经完善后，开源发布出来，使用本项目全部及部分请遵守 MIT 协议。

## 源码组成：
#### / (项目根目录)
    由C#实现的编译器、解析器源代码
#### /bin
    项目的二进制生成目录（由IDE自动创建）

#### /DEMO程序
    中文程序语言样例

#### /lib.import.def
    存储有目标字节码虚拟机宿主函数导入表文件，如果虚拟增加了宿主函数需要修改该文件。

#### /Loader.Linux
    Linux平台加载器实现 (C++)

#### /Loader.WIN32
    Windows平台加载器实现 (C++)

#### /VM
    字节码虚拟机源代码，各平台上的加载器都是引用该源码 (C++)

#### /release.bin.zip
    已编译完成的二进制文件包

## 源码编译：
目前所有代码使用Visual Studio 2017进行编译，其中Linux平台使用Visual Studio 2017中的交叉编译工具进行编译。

**Linux X86** 平台 **工具链为**：g++ (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0  
**Linux arm** 平台 **工具链为**：arm-linux-gnueabihf-g++ (Linaro GCC 7.3-2018.05) 7.3.1 20180425  


## 字节码虚拟机实现
虚拟机采用堆栈虚拟,内部维护一个**计算栈**和**数据栈**外加一个**IP**寄存器.  
**计算栈**:虚拟机所有指令运行都是基于计算栈.  
**数据栈**:所有临时计算结果和函数临时变量数据都存储在数据栈  
**IP寄存器**:用于指向指令当前执行位置  


## 其它说明
目前该项目仅仅简单演示一个计算机程序到 CPU 执行的过程，而且为了更易于理解和实现方便，许多地方并未完全按照编译原理的理论来实现。

## 样例说明
在DEMO目录中给出了一些基本样例程序:

### 样例0-基础测试.程序
    基本语法测试

### 样例1-斐波那契数列.程序
    斐波那契数列顺序求法测试

### 样例2-排序算法测试.程序
    排序算法性能测试程序

### 样例3-贪吃蛇.程序
    典型应用样例
![blockchain](https://github.com/Zhou-zhi-peng/cnpl/blob/master/DEMO程序/样例3-贪吃蛇.程序.png "贪吃蛇")


